<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Rose User Guide: Getting Started</title>
  <meta name="author" content="Rose Team, Met Office, UK" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="icon" href="rose-icon.png" type="image/png" />
  <link rel="shortcut icon" href="rose-icon.png" type="image/png" />
  <link rel="stylesheet" type="text/css" href="rose-doc.css" />
  <link rel="stylesheet" type="text/css" href=
  "google-code-prettify/prettify.css" />
  <script type="text/javascript" src="jquery.min.js">
</script>
  <script type="text/javascript" src="google-code-prettify/prettify.js">
</script>
  <script type="text/javascript" src="prettify-rose-conf.js">
</script>
  <script type="text/javascript" src="prettify-cylc-suite-rc.js">
</script>
  <script type="text/javascript" src="rose-doc.js">
</script>
  <script type="text/javascript" src="rose-version.js">
</script>
</head>

<body>
  <div class="header-footer" id="body-header">
    <address>
      &copy; British Crown Copyright 2012-5 <a href=
      "http://www.metoffice.gov.uk">Met Office</a>. See <a href=
      "rose-terms-of-use.html">Terms of Use</a>.<br />
      This document is released under the <a href=
      "http://www.nationalarchives.gov.uk/doc/open-government-licence/" rel=
      "license">Open Government Licence</a>.<br />
      <span id="rose-version"></span>
    </address><img id="rose-icon" src="rose-icon.png" alt="Rose" />

    <p><a href=".">Rose Documentation</a></p>
  </div>

  <div id="body-main">
    <h1>Rose User Guide: Getting Started</h1>

    <div id="content"></div>

    <h2 id="intro">Introduction</h2>

    <p>If Rose is not installed at your site, please refer to <a href=
    "rose-install.html">Rose: Installation</a> for detail.</p>

    <p>Before using Rose, it is desirable to configure a few things for
    yourself. If you have just installed Rose at your site, you should
    configure it to meet your site requirements.</p>

    <p>The format of both the user and site configuration file is documented in
    <a href="rose-configuration.html#site">user/site config</a>.</p>

    <p>Rose combines the settings in the site configuration and the user
    configuration at run time. You can view the actual setting by issuing the
    command:</p>
    <pre class="shell">
rose config
</pre>

    <p>You can configure Rose by creating and editing your user configuration
    file at <var>~/.metomi/rose.conf</var>. E.g.:</p>
    <pre class="shell">
mkdir -p ~/.metomi
${EDITOR:-vi} ~/.metomi/rose.conf
</pre>

    <p>Rose should work out of the box if it is configured correctly at your
    site.</p>

    <h2 id="editor">Text Editor</h2>

    <p>The default external text editor used by GUIs is <code>gedit</code>. The
    default external text editor used by CLI commands is the value of the
    <var>VISUAL</var> or <var>EDITOR</var> environment variable, or
    <code>vi</code> if neither environment variable is set.</p>

    <p>You should change the <var>[external] geditor</var> (the external text
    editor used by GUIs) and the <var>[external] editor</var> (the external text
    editor used by CLI commands) settings in <var>~/.metomi/rose.conf</var> if
    you do not want to use the default.</p>

    <p>For <code>emacs</code> and most text editors, you can do something
    like:</p>
    <pre class="prettyprint lang-rose_conf">
[external]
editor=emacs
geditor=emacs
</pre>

    <p>For any text editor command that normally forks and detaches from the
    shell it is started it, you should use an option to ensure that the text
    editor runs in the foreground to allow Rose to wait for the edit session to
    finish. E.g. for <code>gvim</code>, you will do:</p>
    <pre class="prettyprint lang-rose_conf">
[external]
editor=gvim -f
geditor=gvim -f
</pre>

    <h3 id="syntax">Editor Syntax Highlighting</h3>

    <p>There are gedit, kate, vim, and emacs plugins for syntax highlighting
    of Rose configuration files, located at:</p>

    <ul>
      <li><samp>$ROSE_HOME/etc/rose-conf.lang</samp></li>

      <li><samp>$ROSE_HOME/etc/rose-conf.xml</samp></li>

      <li><samp>$ROSE_HOME/etc/rose-conf.vim</samp></li>

      <li><samp>$ROSE_HOME/etc/rose-conf-mode.el</samp></li>
    </ul>

    <p><samp>$ROSE_HOME</samp> should be replaced with the path to the root
    directory of your local Rose installation, which you can locate by running
    <code>rose --version</code>. See the files themselves for setup notes.</p>

    <h3 id="bash-completion">Bash Auto-Completion</h3>

    <p>There is a Rose bash completion script that you can source to enhance
    the Rose command line interface within an interactive Bash shell.</p>

    <p>The script allows you to tab-complete Rose commands, options, and
    arguments.</p>

    <p>You can find the file at
    <samp>$ROSE_HOME/etc/rose-bash-completion</samp>. The file contains the
    instructions for using it.</p>

    <p>As with the <a href="#syntax">Editor Syntax Highlighting</a> above, you
    can locate your <samp>$ROSE_HOME</samp> by running <code>rose
    --version</code>.</p>

    <h2 id="cylc">Configuring Cylc</h2>

    <p>See <a href=
    "http://cylc.github.io/cylc/html/single/cug-html.html#x1-160004.2">cylc Use
    Guide</a> for detail.</p>

    <p>You may want to set up cylc-specific text editor plugins - see the
    <a href=
    "http://cylc.github.io/cylc/html/single/cug-html.html#x1-530008.2">cylc
    User Guide</a> for details.</p>

    <p>DO NOT modify the <var>[hosts] &rarr; HOST &rarr; run directory</var> and
    <var>[hosts] &rarr; HOST &rarr; work directory</var> settings, since they
    are incompatible with Rose. Equivalent functionalities are provided by the
    <var>[rose-suite-run]root-dir*</var> settings in the Rose site/user
    configuration.</p>
  </div>
</body>
</html>
